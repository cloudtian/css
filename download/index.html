<html>
    <head>
        <meta charset="utf-8">
        <title>download</title>
        <style>
        
        </style>
    </head>
    <body>
        <h3>下载二进制流文件的几种方式</h3>

        <h4>第一种：直接使用a标签下载</h4>
        <p>a标签href属性指定下载文件的地址，download属性用于触发下载，也可以指定下载文件的名称</p>
        <p>书写方式：&lt;a href="/test.xlsx" download&gt;下载&lt;/a&gt;</p>
        <a href="/test.xlsx" download>下载</a>
        <a href="/test.xlsx" download="a.xlsx">下载(重命名为a.xlsx)</a>

        <h4>第二种：通过点击按钮后，动态创建a标签进行下载</h4>
        <p>缺点：1.不能使用post方法 2.不能在启动下载按钮时禁用按钮，下载完毕启用按钮</p>
        <button type="button" onclick="download()">下载</button>

        <h4>第三种：通过XMLHTTPRequest对象来下载</h4>
        <p>new一个FileReader()对象，使用其readAsDataURL方法将response转换成base64格式</p>
        <button type="button" onclick="downloadXHR()">下载</button>

        <h4>第四种：通过fetch请求来下载</h4>
        <p>使用async函数更简洁，使用URL.createObjectURL来创建DOMString</p>
        <button type="button" onclick="downloadFetch()">下载</button>

        <h4>使用post方法获取下载文件</h4>
        <p>读取response中的Content-Disposition属性解析服务器传来的文件名称</p>
        <button type="button" onclick="downloadFetchPost()">下载</button>

        <h3>上传文件</h3>
        
        <div>
            <input type="file" id="upload-file">
            <button type="button" onclick="fileSelected()">上传</button>
        </div>
        
        <div>
            <button type="button" onclick="refreshFile()">刷新获取最新的文件列表</button>
            文件列表：<select id="file-list"></select>
        </div>
        <button type="button" onclick="downloadUpload()">下载文件列表选择的文件</button>


        <script src="/src/download.js"></script>
        <script src="/src/upload.js"></script>
    </body>
</html>